server:
  port: 80
spring:
  cloud:
    nacos:
      discovery:
        # 注册中心
        server-addr: 127.0.0.1:8848
        # 命名空间
        namespace: 4c4ff881-d9e8-4197-987f-a8e8af19ea9b
      config:
        # 配置中心
        server-addr: 127.0.0.1:8848
        # 文件格式
        file-extension: yml
        # 命名空间
        namespace: 4c4ff881-d9e8-4197-987f-a8e8af19ea9b
    gateway:
      # gateway的全局跨域请求配置
      globalcors:
        cors-configurations:
          '[/**]':
            allow-credentials: true
            allowed-origins: "*"
            allowed-headers: "*"
            # 允许跨域的method
            allowed-methods:
              - OPTIONS
              - GET
              - POST
              - PUT
              - DELETE
            # 允许跨域的时间
            max-age: 3600
      routes:
          - id: commodity-router
            uri: lb://shop-commodity
#            uri: https://wqs.jd.com/data/coss/important/msportal_recovery.shtml?tpl=index
            predicates:
              - Path=/commodity/**
            filters:
#              - StripPrefix=1
              - RewritePath=/commodity/(?<segment>.*),/$\{segment}